<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>第八节：初始化单元测试 -- controller</title>
    <meta name="description" content="初始化C层中对应的单元测试，告别使用postMan进行数据查看"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <link rel="stylesheet" href="/SpringMVC/assets/css/style.css?v=">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">SpringMVC API入门教程</h1>
      <h2 class="project-tagline">技术支持：河北工业大学梦云智软件开发团队
</h2>
      
        <a href="https://github.com/mengyunzhi/SpringMVC" class="btn">View on GitHub</a>
      
      
        <a href="https://github.com/mengyunzhi/SpringMVC/archive/master.zip" class="btn">Download .zip</a>
      
    </section>

    <section class="main-content">
      <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">第八节：初始化单元测试 -- controller</h1>
    <p class="post-meta"><time datetime="2017-04-14T13:49:00+08:00" itemprop="datePublished">Apr 14, 2017</time> • <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">潘杰</span></span></p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>前面我们在开发<code class="highlighter-rouge">service</code>及<code class="highlighter-rouge">respository</code>时，都引用了单元测试。在开发<code class="highlighter-rouge">controller</code>时，采用的是<code class="highlighter-rouge">postMan</code>的方式。
使用<code class="highlighter-rouge">postMan</code>的优点的操作简单，数据返回直观。缺点当然也是有的，比如上节中，我们遇到的问题。那么，我们在开发<code class="highlighter-rouge">controler</code>时，是否也可以引用单元测试呢？</p>

<p>答案是肯定的。<code class="highlighter-rouge">Spring</code>的官方入门教程，专门对这个问题进行了讲解。<a href="https://spring.io/guides/gs/testing-web/">https://spring.io/guides/gs/testing-web/</a></p>

<h1 id="基本代码">基本代码</h1>
<p>我们结合<code class="highlighter-rouge">idea</code>生成基本的代码，并引入<code class="highlighter-rouge">assertThat</code>断言类以及设置<code class="highlighter-rouge">@Autowired</code>注解。</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">mengyunzhi</span><span class="o">.</span><span class="na">controller</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.junit.Test</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.junit.runner.RunWith</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.boot.test.context.SpringBootTest</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.test.context.junit4.SpringRunner</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">static</span> <span class="n">org</span><span class="o">.</span><span class="na">assertj</span><span class="o">.</span><span class="na">core</span><span class="o">.</span><span class="na">api</span><span class="o">.</span><span class="na">Assertions</span><span class="o">.</span><span class="na">assertThat</span><span class="o">;</span>

<span class="cm">/**
 * Created by panjie on 17/4/14.
 */</span>
<span class="nd">@RunWith</span><span class="o">(</span><span class="n">SpringRunner</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
<span class="nd">@SpringBootTest</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">KlassControllerTest</span> <span class="o">{</span>
    <span class="nd">@Autowired</span>
    <span class="kd">private</span> <span class="n">KlassController</span> <span class="n">controller</span><span class="o">;</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">save</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>

    <span class="o">}</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">get</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>

    <span class="o">}</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">update</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>

    <span class="o">}</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">delete</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>

    <span class="o">}</span>

<span class="o">}</span></code></pre></figure>

<h2 id="save">save</h2>


  </div>

  
</article>


      <footer class="site-footer">
        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages </a> and <a href="http://jekyllrb.com/">Jekyll</a>. Powered By: <a href="http://www.mengyunzhi.com">梦云智</a>. </span>
      </footer>
    </section>

  </body>
</html>
